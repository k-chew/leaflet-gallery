{"version":3,"sources":["App.js","index.js","logo.svg"],"names":["App","props","state","images","galleryImages","selectedImg","fileSelect","event","target","files","img","console","log","setState","fileUpload","a","data","FormData","append","fetch","method","body","res","postRes","imageUrl","fetchImages","this","json","resJson","map","src","caption","tags","width","alt","className","style","float","textAlign","logo","display","marginTop","padding","height","clear","renderImages","type","onChange","onClick","React","Component","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"qUA2FeA,E,kDAtFb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,OAAQ,GACRC,cAAe,GACfC,YAAa,MAGf,EAAKC,WAAa,SAACC,GACjB,GAAIA,EAAMC,OAAOC,OAASF,EAAMC,OAAOC,MAAM,GAAI,CAC/C,IAAIC,EAAMH,EAAMC,OAAOC,MAAM,GAC7BE,QAAQC,IAAIF,GACZ,EAAKG,SAAS,CACZR,YAAaK,MAKnB,EAAKI,WAAL,sBAAkB,8BAAAC,EAAA,6DACVC,EAAO,IAAIC,UACZC,OAAO,QAAS,EAAKhB,MAAMG,aAFhB,SAGAc,MAAM,WAAY,CAChCC,OAAQ,OACRC,KAAML,IALQ,OAGZM,EAHY,OAOhB,EAAKT,SAAS,CACZU,QAASD,EAAIN,KAAKQ,WAEpB,EAAKC,cAVW,2CAlBD,E,gEAiCjBC,KAAKD,gB,sKAIWN,MAAM,c,cAAlBG,E,gBACgBA,EAAIK,O,OAApBC,E,OACJF,KAAKb,SAAS,CACZV,OAAQyB,I,2IAKV,OAAOF,KAAKxB,MAAMC,OAAO0B,KAAI,SAAAnB,GAAQ,IAC3BoB,EAAuBpB,EAAvBoB,IAAKC,EAAkBrB,EAAlBqB,QAASC,EAAStB,EAATsB,KAEtB,OADArB,QAAQC,IAAIF,GAEV,6BACE,yBAAKoB,IAAKA,EAAKG,MAAM,MAAMC,IAAI,kBAC/B,6BAAMH,GACN,6BAAMC,S,+BAOZ,OACE,yBAAKG,UAAU,aACb,6BACE,wBAAIC,MAAO,CAACC,MAAO,OAAQC,UAAW,WAAtC,WACA,yBAAKR,IAAKS,IAAML,IAAI,OAAOE,MAAO,CAACI,QAAS,SAAUH,MAAO,OAAQI,UAAW,KAAMC,QAAS,MAAOT,MAAM,KAAKU,OAAO,QAE1H,yBAAKP,MAAO,CAACQ,MAAO,SAClB,uHACClB,KAAKxB,MAAMC,OAAS,6BAAMuB,KAAKmB,gBAAwB,KACxD,8BACE,0GAIE,2BACAC,KAAK,OACLC,SAAUrB,KAAKpB,aAEf,4BAAQ0C,QAAStB,KAAKZ,YAAtB,kB,GA9EImC,IAAMC,WCCxBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U,kBCT1BC,EAAOC,QAAU,IAA0B,mC","file":"static/js/main.cb6982b8.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\nimport logo from './logo.svg';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      images: [], // unparsed GET request\n      galleryImages: [], // parsed GET request\n      selectedImg: null,\n    };\n\n    this.fileSelect = (event) => { // input submit handler\n      if (event.target.files && event.target.files[0]) {\n        let img = event.target.files[0];\n        console.log(img);\n        this.setState({\n          selectedImg: img\n        });\n      }\n    };\n\n    this.fileUpload = async() => {\n      const data = new FormData();\n      data.append('image', this.state.selectedImg);\n      let res = await fetch('api/post', {\n        method: 'POST',\n        body: data,\n      });\n      this.setState({\n        postRes: res.data.imageUrl\n      });\n      this.fetchImages();\n    };\n  }\n  \n  componentDidMount() {\n    this.fetchImages();\n  }\n\n  async fetchImages() {\n    let res = await fetch(`api/images`);\n    let resJson = await res.json();\n    this.setState({\n      images: resJson\n    });\n  }\n\n  renderImages() {\n    return this.state.images.map(img => {\n      const { src, caption, tags } = img;\n      console.log(img);\n      return (\n        <div>\n          <img src={src} width=\"200\" alt=\"Not Available\" />\n          <div>{caption}</div>\n          <div>{tags}</div>\n        </div>\n      )\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div>\n          <h1 style={{float: \"left\", textAlign: \"center\"}}>Leaflet</h1>\n          <img src={logo} alt=\"logo\" style={{display: \"inline\", float: \"left\", marginTop: \"20\", padding: \"20\"}} width=\"50\" height=\"50\"/>\n        </div>\n        <div style={{clear: \"both\"}}>\n          <p>Welcome to Leaflet, a site where you can upload and delete pictures of your houseplants!</p>\n          {this.state.images ? <div>{this.renderImages()}</div> : null}\n          <form>\n            <label>\n              Add an image!\n              You can only add one.\n              The file name can't have any spaces.\n              <input\n              type='file'\n              onChange={this.fileSelect}\n              />\n              <button onClick={this.fileUpload}>Upload</button>\n            </label>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.a341e8bb.svg\";"],"sourceRoot":""}